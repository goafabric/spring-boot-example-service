apiVersion: v1
kind: ConfigMap
metadata:
  name: ${_Values_app_name}-configmap
data:
  TZ: Europe/Berlin

  #stageing
  spring.datasource.hikari.maximum-pool-size: "10"
  spring.datasource.hikari.connection-timeout: "10000"

  database.provisioning.goals: -migrate -import-demo-data -terminate # migrate is also needed because we misuse the service as batch here

  #log levels
  logging.level.root: "WARN"
  logging.level.org.goafabric: "INFO"

  logging.level.org.springframework: "INFO"
  logging.level.org.flywaydb.core: "INFO"
  logging.level.org.hibernate.SQL: "INFO"

  #log standard settings
  logging.file.max-size: "10MB"
  logging.file.name: "/usr/share/logs/application.log"
  logging.pattern.file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n%throwable"
  logging.pattern.console: "%white(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable"
  logging.config: "/usr/share/config/logback-spring.xml"

